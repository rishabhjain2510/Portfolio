{% extends "base.html" %}

{% block title %}Web Scraping Project - Books to Scrape{% endblock %}

{% block content %}
<section class="scrape-section">
    <div class="container">
        <div class="section-header">
            <h1 class="section-title">Books Scraping Dashboard</h1>
            <p class="section-subtitle">Live data scraped from books.toscrape.com</p>
        </div>

        <div class="scrape-controls">
            <a href="/web_scraping" class="scrape-btn secondary">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path>
                </svg>
                Back to Web Scraping
            </a>
            <a href="{{ url_for('scrape_books') }}" class="scrape-btn primary">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"/>
                </svg>
                Refresh Data
            </a>
            <a href="{{ url_for('bar_chart') }}" class="scrape-btn secondary">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M22,21H2V3H4V19H6V10H10V19H12V6H16V19H18V14H22V21Z"/>
                </svg>
                Bar Chart
            </a>
            <a href="{{ url_for('pie_chart') }}" class="scrape-btn secondary">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M11,2V22C5.9,21.5 2,17.2 2,12C2,6.8 5.9,2.5 11,2M13,2V11H22C21.5,6.2 17.8,2.5 13,2M13,13V22C17.7,21.5 21.5,17.8 22,13H13Z"/>
                </svg>
                Pie Chart
            </a>
            <a href="{{ url_for('export_csv') }}" class="scrape-btn export">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                </svg>
                Export CSV
            </a>
        </div>

        {% if books %}
        <div class="data-table-container">
            <h2>Scraped Books Data</h2>
            <div class="table-wrapper">
                {{ books|safe }}
            </div>
        </div>
        {% else %}
        <div class="no-data">
            <h3>No Data Available</h3>
            <p>Click "Refresh Data" to scrape the latest books information</p>
        </div>
        {% endif %}

        <div class="project-info">
            <h3>About This Project</h3>
            <p>This web scraping application demonstrates data extraction from books.toscrape.com using BeautifulSoup and Python. Features include:</p>
            <ul>
                <li>Real-time web scraping of book data</li>
                <li>Data visualization with matplotlib charts</li>
                <li>CSV export functionality</li>
                <li>Responsive data tables</li>
            </ul>
        </div>
    </div>
</section>
{% endblock %}
